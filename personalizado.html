<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Sorteio Personalizado - Login e Cadastro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
    }
    h2 {
      margin-top: 40px;
      color: #00e676;
    }
    input {
      padding: 12px;
      margin: 6px 0;
      width: 250px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      outline: none;
    }
    button {
      background-color: #1e88e5;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background-color: #1565c0;
    }
    hr {
      width: 80%;
      margin: 40px 0;
      border: 1px solid #333;
    }
    #login-erro, #cadastro-sucesso {
      margin-top: 10px;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <h2>Login</h2>
  <input id="login-nome" type="text" placeholder="Primeiro Nome"><br>
  <input id="login-senha" type="password" placeholder="Senha de 4 dígitos"><br>
  <button onclick="fazerLogin()">Entrar</button>
  <p id="login-erro" style="color:red;"></p>

  <hr>

  <h2>Cadastro</h2>
  <input id="cadastro-nome" type="text" placeholder="Nome Completo"><br>
  <input id="cadastro-celular" type="text" placeholder="Celular"><br>
  <input id="cadastro-senha" type="password" placeholder="Senha de 4 dígitos"><br>
  <button onclick="fazerCadastro()">Cadastrar</button>
  <p id="cadastro-sucesso" style="color: #00e676;"></p>

  <script>
    const usuariosCadastrados = JSON.parse(localStorage.getItem("usuarios")) || [];

    function fazerLogin() {
      const nome = document.getElementById("login-nome").value.trim().toLowerCase();
      const senha = document.getElementById("login-senha").value.trim();
      const erro = document.getElementById("login-erro");

      const usuario = usuariosCadastrados.find(
        user => user.nome.split(" ")[0].toLowerCase() === nome && user.senha === senha
      );

      if (usuario) {
        localStorage.setItem("usuarioLogado", usuario.nome);
        alert("Você é benção!");
        window.location.href = "criar_jogo.html";
      } else {
        erro.innerText = "Você errou a senha filho!";
      }
    }

    function fazerCadastro() {
      const nome = document.getElementById("cadastro-nome").value.trim();
      const celular = document.getElementById("cadastro-celular").value.trim();
      const senha = document.getElementById("cadastro-senha").value.trim();
      const sucesso = document.getElementById("cadastro-sucesso");

      if (!nome || !celular || senha.length !== 4 || isNaN(senha)) {
        alert("Preencha corretamente todos os campos (senha deve ter 4 dígitos numéricos).");
        return;
      }

      const novoUsuario = { nome, celular, senha };
      usuariosCadastrados.push(novoUsuario);
      localStorage.setItem("usuarios", JSON.stringify(usuariosCadastrados));

      sucesso.innerText = "Cadastro realizado com sucesso!";
    }
  </script>
</body>
</html>
